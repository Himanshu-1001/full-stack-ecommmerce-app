"use strict";(self.webpackChunkapi=self.webpackChunkapi||[]).push([[5700],{8532:(v,n,_)=>{_.d(n,{a:()=>M,g:()=>e});var O=_(15520),l=_(48132);function e(E){if(!E)return null;const t=Object.entries(O.g.colors).filter(([,o])=>o.toUpperCase()===E.toUpperCase()).reduce((o,[s])=>(l.S?.[s]&&(o=s),o),null);return t?{themeColorName:t,name:l.S[t]}:null}function M(){return Object.entries(l.S).map(([E,P])=>({hex:O.g.colors[E].toUpperCase(),name:P}))}},48132:(v,n,_)=>{_.d(n,{A:()=>t,C:()=>m,D:()=>I,R:()=>l,S:()=>D,a:()=>K,b:()=>R,c:()=>o,d:()=>a,e:()=>e,f:()=>M,g:()=>P,h:()=>E,i:()=>i,j:()=>A,k:()=>s,l:()=>r,m:()=>T,n:()=>W});var O=_(15520);const l="settings_review-workflows",e="Settings/Review_Workflows/RESET_WORKFLOW",M="Settings/Review_Workflows/SET_CONTENT_TYPES",E="Settings/Review_Workflows/SET_IS_LOADING",P="Settings/Review_Workflows/SET_ROLES",t="Settings/Review_Workflows/SET_WORKFLOW",o="Settings/Review_Workflows/SET_WORKFLOWS",s="Settings/Review_Workflows/WORKFLOW_DELETE_STAGE",a="Settings/Review_Workflows/WORKFLOW_ADD_STAGE",A="Settings/Review_Workflows/WORKFLOW_CLONE_STAGE",r="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE",T="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGES",W="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE_POSITION",i="Settings/Review_Workflows/WORKFLOW_UPDATE",D={primary600:"Blue",primary200:"Lilac",alternative600:"Violet",alternative200:"Lavender",success600:"Green",success200:"Pale Green",danger500:"Cherry",danger200:"Pink",warning600:"Orange",warning200:"Yellow",secondary600:"Teal",secondary200:"Baby Blue",neutral400:"Gray",neutral0:"White"},R=O.g.colors.primary600,I={STAGE:"stage"},m="numberOfWorkflows",K="stagesPerWorkflow"},25700:(v,n,_)=>{_.r(n),_.d(n,{REVIEW_WORKFLOW_FILTERS:()=>u});var O=_(96556),l=_(85676),e=_(21968),M=_(79371),E=_(80740),P=_(36196),t=_(35184),o=_(16048),s=_(19968),a=_(65092),A=_(9544),r=_(56104),T=_(48936),W=_(63358),i=_(89296),D=_(33104),R=_(14632),I=_(17899),m=_(74253),K=_(70064),y=_(8532),j=_(62552),G=_(60056),x=_(54320),w=_(5240),p=_(91892),Y=_(20880),$=_(21424),H=_(70516),Q=_(54223),V=_(18424),z=_(48632),X=_(97820),J=_(99568),Z=_(12132),k=_(29576),b=_(79804),q=_(61152),__=_(87144),s_=_(6841),E_=_(61952),t_=_(17892),a_=_(31212),o_=_(38955),n_=_(13192),O_=_(30840),l_=_(37132),P_=_(67888),D_=_(11700),e_=_(52600),M_=_(95752),r_=_(37388),T_=_(61840),d_=_(49108),A_=_(44632),W_=_(50840),i_=_(20252),R_=_(86432),L_=_(22612),C_=_(24808),v_=_(24024),I_=_(33656),m_=_(81112),K_=_(43280),U_=_(19632),g_=_(9589),B_=_(45488),f_=_(75516),S_=_(44604),h_=_(42552),c_=_(26220),y_=_(30680),u_=_(48132);const U=({value:L,onChange:B})=>{const{formatMessage:C}=(0,R.c)(),{users:f,isLoading:S}=(0,m.u)();return(0,s.jsx)(a.k1,{value:L,"aria-label":C({id:"content-manager.components.Filters.usersSelect.label",defaultMessage:"Search and select an user to filter"}),onChange:B,loading:S,children:f.map(d=>(0,s.jsx)(A.m,{value:d.id.toString(),children:(0,I.g)(d,C)},d.id))})};U.propTypes={onChange:D.func.isRequired,value:D.string},U.defaultProps={value:""};const g=({value:L,onChange:B,uid:C})=>{const{formatMessage:f}=(0,R.c)(),{workflows:[S],isLoading:d}=(0,K.u)({filters:{contentTypes:C}});return(0,s.jsx)(r.K_,{"aria-label":f({id:"content-manager.components.Filters.reviewWorkflows.label",defaultMessage:"Search and select an workflow stage to filter"}),value:L,onChange:B,loading:d,customizeContent:()=>(0,s.jsxs)(T.C,{as:"span",justifyContent:"space-between",alignItems:"center",width:"100%",children:[(0,s.jsx)(W.O,{textColor:"neutral800",ellipsis:!0,children:L}),d?(0,s.jsx)(i.c,{small:!0,style:{display:"flex"}}):null]}),children:(S?.stages??[]).map(({id:N,color:h,name:c})=>{const{themeColorName:F}=(0,y.g)(h);return(0,s.jsx)(r.kH,{startIcon:(0,s.jsx)(T.C,{height:2,background:h,borderColor:F==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2}),value:c,children:c},N)})})};g.defaultProps={value:""},g.propTypes={onChange:D.func.isRequired,uid:D.string.isRequired,value:D.string};const u=[{fieldSchema:{type:"relation",mainField:{name:"name",schema:{type:"string"}}},metadatas:{customInput:g,label:{id:(0,E.g)("containers.ListPage.table-headers.reviewWorkflows.stage"),defaultMessage:"Review stage"}},name:"strapi_stage"},{fieldSchema:{type:"relation",mainField:{name:"id",schema:{type:"int"}}},metadatas:{customInput:U,customOperators:[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"}],label:{id:(0,E.g)("containers.ListPage.table-headers.reviewWorkflows.assignee.label"),defaultMessage:"Assignee"}},name:"strapi_assignee"}]},70064:(v,n,_)=>{_.d(n,{u:()=>M});var O=_(62552),l=_(16048),e=_(48632);function M(E={}){const{get:P}=(0,l.Qn)(),{id:t="",...o}=E,s={populate:"stages"},{data:a,isLoading:A,status:r,refetch:T}=(0,e.useQuery)(["review-workflows","workflows",t],async()=>(await P(`/admin/review-workflows/workflows/${t}`,{params:{...s,...o}})).data),W=O.useMemo(()=>t&&a?.data?[a.data]:Array.isArray(a?.data)?a.data:[],[a?.data,t]);return{meta:O.useMemo(()=>a?.meta??{},[a?.meta]),workflows:W,isLoading:A,status:r,refetch:T}}}}]);
